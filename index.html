<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Chụp ảnh và gửi lên Telegram</title>
</head>
<body>
  <h1>Chụp ảnh và gửi lên Telegram</h1>
  <button id="take-photo">Chụp ảnh</button>
  <button id="send-photo">Gửi ảnh</button>

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
  <script>
    $(document).ready(function() {
      // Hàm chụp ảnh
      function takePhoto() {
        // Lấy ảnh camera trước
        const photoFront = document.createElement("img");
        photoFront.src = URL.createObjectURL(navigator.mediaDevices.getUserMedia({
          video: {
            facingMode: "user"
          }
        }));

        // Thêm ảnh vào trang web
        document.getElementById("photo-front").appendChild(photoFront);
      }

      // Hàm gửi ảnh
      function sendPhoto() {
        // Lấy ảnh từ canvas
        const canvas = document.getElementById("photo-front");
        const imageData = canvas.toDataURL("image/jpeg");
        const base64Image = atob(imageData);

        // Gửi ảnh lên Telegram
        $.ajax({
          url: "https://api.telegram.org/bot6630148049:AAG1xYKPmQvG1EaUCb8_JygwwwF-F2dkNQ0/sendPhoto",
          data: {
            "chat_id": -1002081721946,
            "photo": base64Image
          },
          type: "POST"
        }).done(function() {
          console.log("Ảnh đã được gửi lên Telegram");
        });
      }

      // Thêm sự kiện click cho nút chụp ảnh
      document.getElementById("take-photo").addEventListener("click", takePhoto);

      // Thêm sự kiện click cho nút gửi ảnh
      document.getElementById("send-photo").addEventListener("click", sendPhoto);
    });
  </script>
</body>
</html>
